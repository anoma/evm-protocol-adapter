// SPDX-License-Identifier: MIT
pragma solidity ^0.8.27;

import {Test, console} from "forge-std/Test.sol";

import {IRiscZeroVerifier} from "@risc0-ethereum/IRiscZeroVerifier.sol";

contract ComplianceProofTest is Test {
    IRiscZeroVerifier internal constant _TRUSTED_RISC_ZERO_SEPOLIA_VERIFIER =
        IRiscZeroVerifier(0x925d8331ddc0a1F0d96E68CF073DFE1d92b69187);

    IRiscZeroVerifier internal constant _TRUSTED_RISC_ZERO_SEPOLIA_VERIFIER =
        IRiscZeroVerifier(0x925d8331ddc0a1F0d96E68CF073DFE1d92b69187);
    // 	0x20ff7C2Cf391a5F096A2Cc181cb41916680f8E97

    bytes32 internal constant _COMPLIANCE_CIRCUIT_ID = bytes32(0);

    function setUp() public {}

    function test_r0() public view {
        console.log("block.chainid:", block.chainid);
        console.log("block.number:", block.number);

        bytes memory seal =
            hex"c101b42b226f54927568b35a78c237f94a912a15dc90de84ab6c4f6befe83337d79b04fc2e12f933bed65c5933467e1b889c3f9b45df0bb2d4394d46593df001890d2f492deb7b92509f00dbf4c072100866e08f3dab4e95cc939fd660e50c73250409fa262372d20c2928d99ad9f81175b6548120392a00017ae9c4c23bec5c5c57b9361a4b603eb6c4a5ddb4dc4f3b7ddb346a3ad205736523e5f233b7ff93c80a02d70f81b3cfce9109cc10e5271dc084014a229d61ff3b5d4903becd26c7d57c24ce194a60f32a5ca0d901a245fe70f43a03417a973a2bcc81e73b7a7edb3b4fcea32fadd46aa2d40ada30e3f2460de11255073d366c9e1a345a4329e979d73a8294";
        bytes32 journalDigest = sha256(
            hex"a8178c622ae23d879faef1e39df8ff03d907186e21b8406aaaccc1607cbb47575a802f8f3042ef0f1665c9b28c5be1da8f802621d489215f868302cf0076f75b1ad3f1918d23fa18315a979950e35bc860dd0a1fb8ece3706727b35ec68dea834100000004000000f000000022000000d60000000a000000a50000001100000081000000c80000001b00000079000000c3000000c90000008600000093000000eb0000001b000000e7000000cf000000cf00000082000000fa0000006800000047000000e2000000f6000000fd000000230000001200000048000000d600000085000000ea000000a5000000b600000083000000d70000003d000000820000001f000000c90000004c0000006f0000002a000000da00000095000000c200000025000000e7000000d90000005b000000c1000000510000009a00000057000000650000009f0000000c00000013000000760000002200000038000000cb0000000300000024000000e3e3d9b5166cf4e98913948fda27fe8c7e2b730c124aa79b377ff838269ba8dee3e3d9b5166cf4e98913948fda27fe8c7e2b730c124aa79b377ff838269ba8de"
        );
        bytes32 complianceCircuitId = hex"2d66afddd55cd62aefb80ebf9358b5642ede5fdfaa8279a57b9a2b5b4f2e4e2b";

        _TRUSTED_RISC_ZERO_SEPOLIA_VERIFIER.verify({
            seal: seal,
            imageId: complianceCircuitId,
            journalDigest: journalDigest
        });
    }
}
